"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[3832],{842:(e,n,l)=>{l.d(n,{A:()=>i});const i=l.p+"assets/images/mlflow-metrics-with-steps-681be0461fb734fde3a4123ffc218c6c.png"},2553:(e,n,l)=>{l.d(n,{A:()=>i});const i=l.p+"assets/images/mlflow-run-overview-metrics-7646d64895909c98aa5f3b0ab574152a.png"},2603:(e,n,l)=>{l.d(n,{A:()=>i});const i=l.p+"assets/images/mlflow-metrics-tab-093a2416abcb67021e12576e431cf5df.png"},2926:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>m,frontMatter:()=>t,metadata:()=>i,toc:()=>c});var i=l(9386),s=l(5105),r=l(3881);const t={slug:"mlflow-intro",title:"MLflow\u4f7f\u7528\u4ecb\u7ecd",authors:"eason",tags:["ml","mlflow"]},o=void 0,a={authorsImageUrls:[void 0]},c=[{value:"MLflow\u7684\u4e3b\u8981\u529f\u80fd",id:"mlflow\u7684\u4e3b\u8981\u529f\u80fd",level:2},{value:"MLflow Tracking",id:"mlflow-tracking",level:2},{value:"\u8fd0\u884cMLflow",id:"\u8fd0\u884cmlflow",level:2},{value:"MLflow\u7b80\u5355\u4f7f\u7528\u6837\u4f8b",id:"mlflow\u7b80\u5355\u4f7f\u7528\u6837\u4f8b",level:2},{value:"\u521b\u5efaExperiment",id:"\u521b\u5efaexperiment",level:3},{value:"\u8bbe\u7f6eRun\u7684\u53c2\u6570",id:"\u8bbe\u7f6erun\u7684\u53c2\u6570",level:3},{value:"\u8bb0\u5f55\u6a21\u578b\u6307\u6807",id:"\u8bb0\u5f55\u6a21\u578b\u6307\u6807",level:3},{value:"\u524d\u7aef\u6307\u6807\u770b\u677f",id:"\u524d\u7aef\u6307\u6807\u770b\u677f",level:3},{value:"\u6307\u6807\u6c47\u603b",id:"\u6307\u6807\u6c47\u603b",level:4},{value:"\u53ea\u6709\u4e00\u6b21\u8bb0\u5f55\u7684\u6307\u6807",id:"\u53ea\u6709\u4e00\u6b21\u8bb0\u5f55\u7684\u6307\u6807",level:4},{value:"\u542b\u6709\u6b65\u6570\u7684\u6307\u6807",id:"\u542b\u6709\u6b65\u6570\u7684\u6307\u6807",level:4},{value:"\u6a21\u578b\u6307\u6807\u770b\u677f",id:"\u6a21\u578b\u6307\u6807\u770b\u677f",level:4},{value:"\u5b8c\u6574\u793a\u4f8b\u4ee3\u7801",id:"\u5b8c\u6574\u793a\u4f8b\u4ee3\u7801",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u5728\u6211\u4eec\u4f7f\u7528Ray Tune\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u6709\u4e00\u4e2a\u5f00\u6e90\u4e14\u529f\u80fd\u5b8c\u5907\u7684\u5b9e\u9a8c\u8ffd\u8e2a\u5e73\u53f0\u3002\n\u53ef\u4ee5\u6765\u5e2e\u52a9\u6211\u4eec\u8ffd\u8e2a\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u7684\u8c03\u4f18\u7684\u53c2\u6570\uff0c\u4ee5\u53ca\u6bcf\u4e00\u4e2a\u5b9e\u9a8c\u5bf9\u5e94\u7684\u6700\u7ec8\u6307\u6807\u7ed3\u679c\u7b49\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u56e0\u6b64\uff0c\u6211\u4eec\u5c1d\u8bd5\u63a2\u7d22\u901a\u8fc7\u642d\u5efa\u672c\u5730\u7684MLflow\u6765\u8fdb\u884c\u76f8\u5173\u7684\u7ba1\u7406\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"mlflow\u7684\u4e3b\u8981\u529f\u80fd",children:"MLflow\u7684\u4e3b\u8981\u529f\u80fd"}),"\n",(0,s.jsx)(n.p,{children:"MLflow\u63d0\u4f9b\u4e86\u5305\u542b\u8bad\u7ec3\u5b9e\u9a8c\uff0c\u6a21\u578b\u6ce8\u518c\u7ba1\u7406\u90e8\u7f72\u7b49\u591a\u79cd\u80fd\u529b\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u4e3b\u8981\u4f1a\u63a2\u7d22\u5176\u8bad\u7ec3\u8bb0\u5f55\u76f8\u5173\u7684\u80fd\u529b\uff0c\u7528\u4e8e\u914d\u5408Ray Tune\u5bfb\u627e\u5408\u9002\u7684\u5f3a\u5316\u5b66\u4e60\u8bad\u7ec3\u53c2\u6570\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"mlflow-tracking",children:"MLflow Tracking"}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u4e0b\u56fe\u6240\u793a\uff0cMLflow\u4e2d\u7684\u67b6\u6784\u4e3b\u8981\u5305\u542b\u5982\u4e0b\u6982\u5ff5\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Experiments"}),"\uff1a\u6240\u6709\u7684\u8bad\u7ec3\u8ddf\u8e2a\uff0c\u90fd\u662f\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u5b9e\u9a8c\u4e2d\u6765\u8fdb\u884c\u8ffd\u8e2a\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u5de5\u4f5c\uff0c\u521b\u5efa\u591a\u4e2aExperiments\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Run"}),"\uff1a\u5c31\u662f\u6bcf\u4e00\u6b21\u7684\u8bad\u7ec3\u6216\u8005\u8fd0\u884c\uff0c\u6bcf\u4e00\u4e2a\u8bad\u7ec3\uff0c\u5173\u8054\u4e00\u7ec4\u914d\u7f6e\u6216\u8005\u6307\u6807\uff0c\u4ea7\u751f\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u6a21\u578b\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{alt:"MLflow Tracking Architecture",src:l(5811).A+"",width:"1842",height:"699"}),"\n",(0,s.jsxs)(n.em,{children:["Source: ",(0,s.jsx)(n.a,{href:"https://mlflow.org/docs/latest/getting-started/index.html#mlflow-tracking",children:"https://mlflow.org/docs/latest/getting-started/index.html#mlflow-tracking"})]})]}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u4e0a\u9762\u56fe\u793a\u4e2d\uff0c\u5de6\u4fa7\u4e3aExperiments\uff0c\u53f3\u4fa7\u4e3a\u5bf9\u5e94Experiment\u7684Runs\u3002\n\u70b9\u5f00\u67d0\u4e00\u4e2aRun\u4ee5\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u5bf9\u5e94\u7684\u914d\u7f6e\u3001\u6307\u6807\u4ee5\u53ca\u6a21\u578b\u7b49\u5185\u5bb9\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u8fd0\u884cmlflow",children:"\u8fd0\u884cMLflow"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u672c\u6587\uff0c\u6211\u4eec\u7b80\u5355\u8bbe\u7f6e\u4e00\u4e2a\u672c\u5730\u7684MLflow\u5b9e\u4f8b\u3002\n\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\uff0c\u6211\u4eec\u53ef\u4ee5\u5b89\u88c5\u6700\u65b0\u7248\u672c\u7684MLflow\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"pip install mlflow\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5b89\u88c5\u6210\u529f\u540e\uff0c\u6211\u4eec\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\uff0c\u6765\u542f\u52a8\u6211\u4eec\u7684\u670d\u52a1\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"mlflow server --host 0.0.0.0 --port 8080\n"})}),"\n",(0,s.jsxs)(n.admonition,{title:"MLflow\u7f51\u5740\u548c\u7aef\u53e3\u8bbe\u7f6e",type:"tip",children:[(0,s.jsx)(n.p,{children:"\u4e0a\u9762\u547d\u4ee4\u4e2d\uff0c\u542f\u52a8\u4e86\u6211\u4eec\u7684MLflow\u57280.0.0.0\u7f51\u5740\u4e0a\uff0c\n\u8fd9\u4e2a\u7f51\u5740\u8bbe\u7f6e\u4f1a\u8ba9\u6240\u6709\u80fd\u8bbf\u95ee\u5230\u673a\u5668\u7f51\u7edc\u7684\u8bbe\u5907\u8bbf\u95ee\u5230\u6211\u4eec\u7684MLflow\u3002\n\u751f\u4ea7\u73af\u5883\u4e2d\uff0c\u8bf7\u8c28\u614e\u8bbe\u7f6e\u3002"}),(0,s.jsx)(n.p,{children:"\u53e6\uff0c\u5982\u679c\u7aef\u53e38080\u5df2\u7ecf\u5360\u7528\uff0c\u53ef\u4f7f\u7528\u5176\u4ed6\u7684\u7aef\u53e3\u8bbe\u7f6e\u3002"})]}),"\n",(0,s.jsxs)(n.p,{children:["\u670d\u52a1\u5668\u542f\u52a8\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u6253\u5f00\u7f51\u5740\uff1a",(0,s.jsx)(n.a,{href:"http://localhost:8080",children:"http://localhost:8080"}),"\n\u6765\u67e5\u770b\u6211\u4eec\u7684MLflow\u670d\u52a1\u548c\u76f8\u5173\u8bad\u7ec3\u4fe1\u606f\u7b49\u3002\u9875\u9762\u5982\u4e0b\u6240\u793a\uff1a"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"MLflow Landing Page",src:l(8180).A+"",width:"1466",height:"820"})}),"\n",(0,s.jsx)(n.h2,{id:"mlflow\u7b80\u5355\u4f7f\u7528\u6837\u4f8b",children:"MLflow\u7b80\u5355\u4f7f\u7528\u6837\u4f8b"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4eec\u7528\u4e00\u4e2a\u7b80\u5355\u7684\u4ee3\u7801\u793a\u4f8b\u6765\u5c55\u793a\u5982\u4f55\u4f7f\u7528Python\u6765\u4fdd\u5b58\u8bad\u7ec3\u7684\u53c2\u6570\u548c\u7ed3\u679c\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u521b\u5efaexperiment",children:"\u521b\u5efaExperiment"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import mlflow\n\nMLFLOW_TRACKING_URI = "http://localhost:8080"\n\nmlflow.set_tracking_uri(MLFLOW_TRACKING_URI)\nmlflow.set_experiment("experiment_1")\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5f15\u5165",(0,s.jsx)(n.code,{children:"mlflow"}),"\u6a21\u5757\uff0c\u7136\u540e\u4f7f\u7528\u6211\u4eec\u524d\u9762\u8bbe\u7f6e\u597d\u7684MLflow\u672c\u5730\u670d\u52a1\u5668\u7684\u5730\u5740\uff0c\n\u540e\u9762\u6211\u4eec\u7684\u6570\u636e\u4f1a\u53d1\u9001\u5230\u5bf9\u5e94\u5730\u5740\u7684\u670d\u52a1\u5668\u540e\u53f0\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u540c\u65f6\u6211\u4eec\u4e5f\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a",(0,s.jsx)(n.code,{children:"experiment_1"}),"\u7684Experiment\u540d\u79f0\u3002\n\u540e\u9762\u6240\u6709\u7684Runs\uff0c\u90fd\u4f1a\u4fdd\u5b58\u5728\u8be5\u540d\u79f0\u4e0b\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u8bbe\u7f6erun\u7684\u53c2\u6570",children:"\u8bbe\u7f6eRun\u7684\u53c2\u6570"}),"\n",(0,s.jsx)(n.p,{children:"\u5bf9\u4e8e\u6211\u4eec\u4e00\u822c\u7684\u8bad\u7ec3\u5e94\u7528\uff0c\u6211\u4eec\u9700\u8981\u8bb0\u5f55\u8be5Run\u6240\u5173\u8054\u7684\u53c2\u6570\uff08\u6bd4\u5982\u8d85\u53c2\u6570\u7b49\u4fe1\u606f\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4eec\u901a\u8fc7\u5982\u4e0b\u7684\u4ee3\u7801\u521b\u5efa\u5e76\u8bb0\u5f55\u76f8\u5173\u7684\u53c2\u6570\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'with mlflow.start_run(run_name=\'Run Name #1\'):\n    # Log with mlflow.log_param\n    mlflow.log_param("param1", 0.1283)\n    mlflow.log_param("param2", 0.238292)\n\n    # Log with mlflow.log_params\n    mlflow.log_params({\n        "param3": 0.392,\n        "param4": 0.4829,    \n    })\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"with mlflow.start_run(run_name='Run Name #1'):\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u6765\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Run\uff0c\u5e76\u63d0\u4f9b\u4e86\u4e00\u4e2aRun Name\uff1a",(0,s.jsx)(n.code,{children:"Run Name #1"}),"\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u540e\u6211\u4eec\u4f7f\u7528\u4e86\u4e24\u4e2a\u4e0d\u540c\u7684\u65b9\u5f0f\u6765\u8bb0\u5f55\u53c2\u6570\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"mlflow.log_param"}),"\uff1a \u901a\u8fc7Key Value\u7684\u5f62\u5f0f\uff0c\u8bb0\u5f55\u67d0\u4e00\u4e2a\u53c2\u6570\u9879\u76ee\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"mlflow.log_params"}),"\uff1a\u901a\u8fc7\u5b57\u5178\u5f62\u5f0f\uff0c\u6765\u6279\u91cf\u63d0\u4f9b\u4e00\u7ec4\u53c2\u6570\u8bbe\u7f6e\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u76f8\u5173\u7684\u53c2\u6570\u4f1a\u8bb0\u5f55\u5728MLflow\u4e2d\uff0c\u524d\u7aef\u754c\u9762\u5c55\u793a\u6548\u679c\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Run Parameters",src:l(7472).A+"",width:"1452",height:"508"})}),"\n",(0,s.jsx)(n.h3,{id:"\u8bb0\u5f55\u6a21\u578b\u6307\u6807",children:"\u8bb0\u5f55\u6a21\u578b\u6307\u6807"}),"\n",(0,s.jsx)(n.p,{children:"\u5f53\u6a21\u578b\u8bad\u7ec3\u6280\u672f\uff0c\u4ee5\u53ca\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u8bb0\u5f55\u6a21\u578b\u7684\u6307\u6807\uff0c\u6765\u8ffd\u8e2a\u8bad\u7ec3\u7684\u8fc7\u7a0b\uff0c\u4ee5\u53ca\u5bf9\u6bd4\u6a21\u578b\u7684\u6548\u679c\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u7c7b\u4f3c\u53c2\u6570\u7684\u8bb0\u5f55\uff0c\u6a21\u578b\u6307\u6807\u7684\u8bb0\u5f55\u4e5f\u6709\u4e24\u4e2a\u65b9\u6cd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'    mlflow.log_metric("metric_once", 100 * random.random())\n    mlflow.log_metrics({\n        "metric_1": 1.1019,\n        "metric_2": 2.3829,\n        "metric_3": 3.9842,\n    })\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u65e2\uff0c\u901a\u8fc7\u5982\u4e0b\u4e24\u4e2a\u65b9\u6cd5\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"mlflow.log_metric"}),"\uff1a\u8bb0\u5f55\u67d0\u4e00\u4e2a\u6307\u6807\uff0c\u4e5f\u662f\u6309\u7167Key Value\u5f62\u5f0f\u8fdb\u884c\u8bb0\u5f55\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"mlflow.log_metrics"}),"\uff1a\u8bb0\u5f55\u4e00\u7ec4\u6307\u6807\uff0c\u4ee5\u5b57\u5178\u7684\u5f62\u5f0f\u8fdb\u884c\u8bb0\u5f55\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u53e6\u5916\uff0c\u5728\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53ef\u80fd\u5e0c\u671b\u901a\u8fc7\u591a\u6b21\u8bb0\u5f55\u7684\u65b9\u5f0f\uff0c\u6765\u8ffd\u8e2a\u76f8\u5173\u6307\u6807\u7684\u53d8\u5316\u60c5\u51b5\u3002\n\u6240\u4ee5\uff0c\u6211\u4eec\u901a\u8fc7\u5982\u4e0b\u7684\u4ee3\u7801\uff0c\u6765\u8fdb\u884c\u8bad\u7ec3\u8fc7\u7a0b\u7684\u793a\u610f\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'    for i in range(10):\n        mlflow.log_metric("metric_update", i * random.random())\n\n        mlflow.log_metric("metric_step", 30 * i * (random.random() + 1), step=i)\n\n        mlflow.log_metrics({\n            "metric_step_3": 100 * i * (random.random() + 1),\n            "metric_step_4": 200 * i * (random.random() + 1),\n        }, step=i)\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u5faa\u73af\uff0c\u6765\u6a21\u62df\u8bad\u7ec3\u8fc7\u7a0b\u7684\u6307\u6807\u8bb0\u5f55\u3002\n\u5176\u4e2d\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"metric_update"}),"\uff1a\u8be5\u6307\u6807\u5728\u6bcf\u6b21\u7684\u5faa\u73af\u4e2d\uff0c\u90fd\u8fdb\u884c\u4e86\u8bb0\u5f55\u3002\uff08\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u8c03\u7528\u591a\u6b21\u7684",(0,s.jsx)(n.code,{children:"log_metric"}),"\u6765\u8bb0\u5f55\u6307\u6807\u7684\u66f4\u65b0\u8fc7\u7a0b\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"metric_step"}),"\uff1a\u8be5\u6307\u6807\u9664\u4e86\u591a\u6b21\u8bb0\u5f55\u5916\uff0c\u8fd8\u63d0\u4f9b\u4e86",(0,s.jsx)(n.code,{children:"step"}),"\u53c2\u6570\u7684\u8bbe\u7f6e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8ddf\u8e2astep\u7684\u53d8\u5316\u6765\u8ffd\u8e2a\u6307\u6807\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"metric_step_3/4"}),"\uff1a\u8fd9\u51e0\u4e2a\u6307\u6807\u793a\u4f8b\u4e86\uff0c\u5982\u679c\u901a\u8fc7\u5b57\u5178\u4ee5\u53castep\u53c2\u6570\u7684\u65b9\u5f0f\uff0c\u6765\u8ddf\u8e2a\u591a\u4e2a\u6307\u6807\u7684\u53d8\u5316\u60c5\u51b5\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u524d\u7aef\u6307\u6807\u770b\u677f",children:"\u524d\u7aef\u6307\u6807\u770b\u677f"}),"\n",(0,s.jsx)(n.h4,{id:"\u6307\u6807\u6c47\u603b",children:"\u6307\u6807\u6c47\u603b"}),"\n",(0,s.jsx)(n.p,{children:"\u5728Run\u7684Overview\u6807\u7b7e\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u8bad\u7ec3\u6700\u65b0\u7684\u6307\u6807\u60c5\u51b5\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"MLflow Run - Overview - Metrics",src:l(2553).A+"",width:"1442",height:"704"})}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4eec\u901a\u8fc7\u5355\u51fb\u76f8\u5173\u7684\u6307\u6807\u53ef\u4ee5\u67e5\u770b\u6307\u6807\u7684\u8be6\u60c5\u4fe1\u606f\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u53ea\u6709\u4e00\u6b21\u8bb0\u5f55\u7684\u6307\u6807",children:"\u53ea\u6709\u4e00\u6b21\u8bb0\u5f55\u7684\u6307\u6807"}),"\n",(0,s.jsx)(n.p,{children:"\u5bf9\u4e8e\u53ea\u8bb0\u5f55\u4e86\u4e00\u6b21\u7684\u6307\u6807\uff0c\u5176UI\u5c55\u793a\u6548\u679c\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"MLflow Metrics Once",src:l(5267).A+"",width:"2896",height:"1606"})}),"\n",(0,s.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\uff0c\u6307\u6807\u7684\u7ed3\u679c\u53ea\u6709\u4e00\u4e2a\uff0c\u6240\u4ee5\u5176\u6700\u65b0\u503c\uff0c\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\uff0c\u90fd\u662f\u540c\u4e00\u4e2a\u6570\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u542b\u6709\u6b65\u6570\u7684\u6307\u6807",children:"\u542b\u6709\u6b65\u6570\u7684\u6307\u6807"}),"\n",(0,s.jsxs)(n.p,{children:["\u5bf9\u4e8e\u542b\u6709\u6b65\u6570\uff08Step\uff09\u7684\u6307\u6807\uff0c\u6211\u4eec\u901a\u8fc7\u8c03\u6574",(0,s.jsx)(n.code,{children:"X-axis"}),"\u4e3a",(0,s.jsx)(n.code,{children:"Step"}),"\uff0c\u53ef\u4ee5\u770b\u5230\u6839\u636e\u6b65\u6570\u7684\u6307\u6807\u8d70\u52bf\u3002\n\u5982\u4e0b\u56fe\u6240\u793a\uff1a"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"MLflow Metrics - With Steps",src:l(842).A+"",width:"2896",height:"1716"})}),"\n",(0,s.jsx)(n.p,{children:"\u53e6\u5916\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u6b65\u6570\u7684\u6700\u65b0\u503c\u3001\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\uff0c\u5747\u4e0d\u540c\uff0c\u5176\u5c55\u73b0\u4e86\u8be5\u6307\u6807\u7684\u7edf\u8ba1\u4fe1\u606f\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u6a21\u578b\u6307\u6807\u770b\u677f",children:"\u6a21\u578b\u6307\u6807\u770b\u677f"}),"\n",(0,s.jsxs)(n.p,{children:["\u6211\u4eec\u901a\u8fc7Run\u7684",(0,s.jsx)(n.code,{children:"Model metrics"}),"\u6807\u7b7e\u9875\uff0c\u53ef\u4ee5\u770b\u5230\u6240\u6709\u6807\u7b7e\u7684\u72b6\u6001\u3002\n\u5982\u4e0b\u56fe\u6240\u793a\uff1a"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"MLflow Metrics - Tab",src:l(2603).A+"",width:"2892",height:"1812"})}),"\n",(0,s.jsxs)(n.p,{children:["\u6211\u4eec\u901a\u8fc7\u8fc7\u6ee4\u6761\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u5feb\u901f\u7684\u8fc7\u6ee4\u5230\u6211\u4eec\u5173\u6ce8\u7684\u6307\u6807\u4fe1\u606f\u3002\n\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u6211\u4eec\u8fc7\u6ee4\u4ee5",(0,s.jsx)(n.code,{children:"metric_step"}),"\u5f00\u59cb\u7684\u6307\u6807\uff1a"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"MLflow Metrics - Filter",src:l(5338).A+"",width:"2896",height:"1318"})}),"\n",(0,s.jsx)(n.h3,{id:"\u5b8c\u6574\u793a\u4f8b\u4ee3\u7801",children:"\u5b8c\u6574\u793a\u4f8b\u4ee3\u7801"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u4eec\u4e0a\u8ff0\u7684\u5185\u5bb9\u7684Python\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import mlflow\nimport random\n\nMLFLOW_TRACKING_URI = "http://localhost:8080"\n\nmlflow.set_tracking_uri(MLFLOW_TRACKING_URI)\nmlflow.set_experiment("experiment_1")\n\nwith mlflow.start_run(run_name=\'Run Name #1\'):\n    # Log with mlflow.log_param\n    mlflow.log_param("param1", 0.1283)\n    mlflow.log_param("param2", 0.238292)\n\n    # Log with mlflow.log_params\n    mlflow.log_params({\n        "param3": 0.392,\n        "param4": 0.4829,    \n    })\n\n    mlflow.log_metric("metric_once", 100 * random.random())\n    mlflow.log_metrics({\n        "metric_1": 1.1019,\n        "metric_2": 2.3829,\n        "metric_3": 3.9842,\n    })\n\n    for i in range(10):\n        mlflow.log_metric("metric_update", i * random.random())\n\n        mlflow.log_metric("metric_step", 30 * i * (random.random() + 1), step=i)\n\n        mlflow.log_metrics({\n            "metric_step_3": 100 * i * (random.random() + 1),\n            "metric_step_4": 200 * i * (random.random() + 1),\n        }, step=i)\n'})})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},3881:(e,n,l)=>{l.d(n,{R:()=>t,x:()=>o});var i=l(8101);const s={},r=i.createContext(s);function t(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(r.Provider,{value:n},e.children)}},5267:(e,n,l)=>{l.d(n,{A:()=>i});const i=l.p+"assets/images/mlflow-metrics-once-95ae47f55d7bd56480df0e1269a21203.png"},5338:(e,n,l)=>{l.d(n,{A:()=>i});const i=l.p+"assets/images/mlflow-metrics-filter-bb6b6356ee35bce5ee5a8cfd81a1f714.png"},5811:(e,n,l)=>{l.d(n,{A:()=>i});const i=l.p+"assets/images/mlflow-tracking-architecture-44181b15c8af38a7a6abb25f05b9eb9d.png"},7472:(e,n,l)=>{l.d(n,{A:()=>i});const i=l.p+"assets/images/mlflow-run-parameters-798afba2c34be0d86f41a507a1c0b384.png"},8180:(e,n,l)=>{l.d(n,{A:()=>i});const i=l.p+"assets/images/mlflow-fresh-page-153d828ad7f4908b9b81ef98ab7fb086.png"},9386:e=>{e.exports=JSON.parse('{"permalink":"/eason-blog/blog/mlflow-intro","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2025-02-03-mlflow-setup/index.md","source":"@site/blog/2025-02-03-mlflow-setup/index.md","title":"MLflow\u4f7f\u7528\u4ecb\u7ecd","description":"\u5728\u6211\u4eec\u4f7f\u7528Ray Tune\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u6709\u4e00\u4e2a\u5f00\u6e90\u4e14\u529f\u80fd\u5b8c\u5907\u7684\u5b9e\u9a8c\u8ffd\u8e2a\u5e73\u53f0\u3002","date":"2025-02-03T00:00:00.000Z","tags":[{"inline":false,"label":"Machine Learning","permalink":"/eason-blog/blog/tags/machine-learning","description":"Machine Learning related posts"},{"inline":false,"label":"MLflow","permalink":"/eason-blog/blog/tags/mlflow","description":"MLflow related posts"}],"readingTime":8.05,"hasTruncateMarker":true,"authors":[{"name":"Eason G.","title":"Engineer","url":"https://github.com/e10101","page":{"permalink":"/eason-blog/blog/authors/eason"},"socials":{"github":"https://github.com/e10101"},"imageURL":"https://github.com/e10101.png","key":"eason"}],"frontMatter":{"slug":"mlflow-intro","title":"MLflow\u4f7f\u7528\u4ecb\u7ecd","authors":"eason","tags":["ml","mlflow"]},"unlisted":false,"prevItem":{"title":"MLflow\u4f7f\u7528PostgresSQL","permalink":"/eason-blog/blog/mlflow-change-db"},"nextItem":{"title":"Ray Tune","permalink":"/eason-blog/blog/ray-tune"}}')}}]);